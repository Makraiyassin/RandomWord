<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Word</title>
    <style>
        /* Styles généraux */
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            color: #333;
        }

        /* Style pour le mot à deviner */
        #word {
            font-size: 2rem;
            font-weight: bold;
            letter-spacing: 5px;
            color: #4a90e2;
            margin-bottom: 20px;
        }

        /* Style pour le minuteur */
        #timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6347;
            padding: 10px 20px;
            border: 2px solid #ff6347;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            transition: transform 0.3s;
        }

        /* Animation de secousse pour le timer à 10 secondes ou moins */
        .shake {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }

        /* Style pour le bouton */
        #ok {
            font-size: 1rem;
            padding: 10px 20px;
            color: #fff;
            background-color: #4a90e2;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s, transform 0.2s;
        }

        #ok:hover {
            background-color: #357ab7;
        }

        #ok:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
   <h1 id="word">***************</h1>
   <div id="timer">00:00</div> 
   <div>
       <input id="ok" type="button" value="ok">
   </div>

   <!-- Inclusion du fichier words.js -->
   <script src="words.js"></script>

   <script>
    // Afficher le nombre de mots dans la console (pour vérifier)
    console.log(words.length);

    let word = document.getElementById("word");
    let timer = document.getElementById("timer");
    let okBtn = document.getElementById("ok");

    let countdown; // Variable pour stocker l'ID du minuteur en cours
    let randomNumber;

    okBtn.addEventListener("click", function() {
        // Si un minuteur est déjà en cours, l'arrêter avant de démarrer un nouveau
        if (countdown) {
            clearInterval(countdown);
        }

        // Choisir un mot aléatoire dans la liste et l'afficher
        randomNumber = Math.floor(Math.random() * words.length);
        let timeRemaining = 60; // Temps restant en secondes
        word.innerText = words[randomNumber]; // Afficher le mot
        words.splice(randomNumber, 1); // Supprimer le mot pour ne pas le réutiliser

        // Démarrer le minuteur
        countdown = setInterval(() => {
            let minutes = Math.floor(timeRemaining / 60);
            let seconds = timeRemaining % 60;

            // Appliquer l'animation "secousse" si le temps restant est inférieur ou égal à 10 secondes
            if (timeRemaining <= 10) {
                timer.classList.add("shake");
            } else {
                timer.classList.remove("shake");
            }

            // Mettre à jour l'affichage du minuteur
            timer.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            
            // Décrémenter le temps restant
            timeRemaining--; 

            // Si le temps est écoulé, arrêter le minuteur et afficher "Temps écoulé !"
            if (timeRemaining < 0) {
                clearInterval(countdown);
                timer.textContent = "Temps écoulé !";
            }
        }, 1000); // Met à jour toutes les secondes
    });
   </script>
</body>
</html>
